{"ast":null,"code":"var _jsxFileName = \"C:\\\\repos\\\\my-app\\\\src\\\\components\\\\todolistv2\\\\ListTodos.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from 'react';\nimport EditTodo from './EditTodo';\nimport { Table } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ListTodos() {\n  _s();\n\n  const [todos, setTodos] = useState([]); //delete function to delete tasks\n\n  const deleteTodo = async id => {\n    try {\n      const response = await fetch(`http://localhost:5000/todos/${id}`, {\n        method: \"DELETE\"\n      });\n      false && console.log(response, \"no reponse\");\n    } catch (error) {\n      console.error(error.message);\n    }\n\n    setTodos(todos.filter(todo => todo.data_id !== id)); // window.location = window.location.pathname\n  }; //get function to retrieve tasks\n\n\n  const getTodos = async () => {\n    try {\n      const response = await fetch(\"http://www.localhost:5000/todos\");\n      const jsonData = await response.json();\n      console.table(jsonData);\n      setTodos(jsonData);\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n\n  useEffect(() => {\n    getTodos();\n  }, []);\n  console.log(todos);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"ListTodos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      responsive: true,\n      hover: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: todos.map(todo => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: todo.data_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: todo.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(EditTodo, {\n              todo: todo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              onClick: () => deleteTodo(todo.data_id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)]\n        }, todo.data_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 7\n  }, this);\n}\n\n_s(ListTodos, \"4w2FR3x+JAhc2MKl4V8naiLXs70=\");\n\n_c = ListTodos;\nexport default ListTodos;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListTodos\");","map":{"version":3,"names":["React","Fragment","useEffect","useState","EditTodo","Table","ListTodos","todos","setTodos","deleteTodo","id","response","fetch","method","console","log","error","message","filter","todo","data_id","getTodos","jsonData","json","table","map","description"],"sources":["C:/repos/my-app/src/components/todolistv2/ListTodos.js"],"sourcesContent":["import React, { Fragment, useEffect,useState } from 'react'\r\nimport EditTodo from './EditTodo';\r\nimport { Table } from 'react-bootstrap'\r\n\r\nfunction ListTodos() {\r\n\r\n    const [todos, setTodos] = useState([]);\r\n\r\n    //delete function to delete tasks\r\n    const deleteTodo = async (id) => {\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/todos/${id}`, {\r\n                method: \"DELETE\"\r\n            })\r\n            false && console.log(response, \"no reponse\");\r\n        } catch (error) {\r\n            console.error(error.message)\r\n        }\r\n        setTodos(todos.filter(todo => todo.data_id !== id));\r\n        // window.location = window.location.pathname\r\n    }\r\n    \r\n    //get function to retrieve tasks\r\n     const getTodos = async () => {\r\n         try {\r\n            const response = await fetch(\"http://www.localhost:5000/todos\");\r\n            const jsonData = await response.json();\r\n            console.table(jsonData);\r\n            setTodos(jsonData);\r\n        } catch (error) {\r\n             console.error(error.message);\r\n         } \r\n     }\r\n    \r\n\r\n     useEffect(() => {\r\n      getTodos();\r\n    }, [])\r\n\r\n    console.log(todos)\r\n    \r\n  return (\r\n      <Fragment>\r\n    <div>ListTodos</div>\r\n\r\n    <Table striped bordered responsive hover>\r\n        <thead>\r\n            <tr>\r\n                <th>#</th>\r\n                <th>Description</th>\r\n                <th>Edit</th>\r\n                <th>Delete</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {todos.map(todo => (\r\n                <tr key={todo.data_id}>\r\n                <td>{todo.data_id}</td>\r\n                <td>{todo.description}</td>\r\n                <td><EditTodo todo={todo}/></td>\r\n                <td><button className='btn btn-danger' onClick={()=>deleteTodo(todo.data_id)}>Delete</button></td>\r\n            </tr>\r\n            ))}\r\n            \r\n        </tbody>\r\n    </Table>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default ListTodos"],"mappings":"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"},"metadata":{},"sourceType":"module"}