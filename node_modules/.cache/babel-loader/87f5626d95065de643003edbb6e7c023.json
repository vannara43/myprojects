{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = useWaitForDOMRef;\nexports.resolveContainerRef = void 0;\n\nvar _ownerDocument = _interopRequireDefault(require(\"dom-helpers/ownerDocument\"));\n\nvar _canUseDOM = _interopRequireDefault(require(\"dom-helpers/canUseDOM\"));\n\nvar _react = require(\"react\");\n\nvar _useWindow = _interopRequireDefault(require(\"./useWindow\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nconst resolveContainerRef = (ref, document) => {\n  var _ref;\n\n  if (!_canUseDOM.default) return null;\n  if (ref == null) return (document || (0, _ownerDocument.default)()).body;\n  if (typeof ref === 'function') ref = ref();\n  if (ref && 'current' in ref) ref = ref.current;\n  if ((_ref = ref) != null && _ref.nodeType) return ref || null;\n  return null;\n};\n\nexports.resolveContainerRef = resolveContainerRef;\n\nfunction useWaitForDOMRef(ref, onResolved) {\n  const window = (0, _useWindow.default)();\n  const [resolvedRef, setRef] = (0, _react.useState)(() => resolveContainerRef(ref, window == null ? void 0 : window.document));\n\n  if (!resolvedRef) {\n    const earlyRef = resolveContainerRef(ref);\n    if (earlyRef) setRef(earlyRef);\n  }\n\n  (0, _react.useEffect)(() => {\n    if (onResolved && resolvedRef) {\n      onResolved(resolvedRef);\n    }\n  }, [onResolved, resolvedRef]);\n  (0, _react.useEffect)(() => {\n    const nextRef = resolveContainerRef(ref);\n\n    if (nextRef !== resolvedRef) {\n      setRef(nextRef);\n    }\n  }, [ref, resolvedRef]);\n  return resolvedRef;\n}","map":{"version":3,"names":["exports","__esModule","default","useWaitForDOMRef","resolveContainerRef","_ownerDocument","_interopRequireDefault","require","_canUseDOM","_react","_useWindow","obj","ref","document","_ref","body","current","nodeType","onResolved","window","resolvedRef","setRef","useState","earlyRef","useEffect","nextRef"],"sources":["C:/repos/my-app/node_modules/@restart/ui/cjs/useWaitForDOMRef.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = useWaitForDOMRef;\nexports.resolveContainerRef = void 0;\n\nvar _ownerDocument = _interopRequireDefault(require(\"dom-helpers/ownerDocument\"));\n\nvar _canUseDOM = _interopRequireDefault(require(\"dom-helpers/canUseDOM\"));\n\nvar _react = require(\"react\");\n\nvar _useWindow = _interopRequireDefault(require(\"./useWindow\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst resolveContainerRef = (ref, document) => {\n  var _ref;\n\n  if (!_canUseDOM.default) return null;\n  if (ref == null) return (document || (0, _ownerDocument.default)()).body;\n  if (typeof ref === 'function') ref = ref();\n  if (ref && 'current' in ref) ref = ref.current;\n  if ((_ref = ref) != null && _ref.nodeType) return ref || null;\n  return null;\n};\n\nexports.resolveContainerRef = resolveContainerRef;\n\nfunction useWaitForDOMRef(ref, onResolved) {\n  const window = (0, _useWindow.default)();\n  const [resolvedRef, setRef] = (0, _react.useState)(() => resolveContainerRef(ref, window == null ? void 0 : window.document));\n\n  if (!resolvedRef) {\n    const earlyRef = resolveContainerRef(ref);\n    if (earlyRef) setRef(earlyRef);\n  }\n\n  (0, _react.useEffect)(() => {\n    if (onResolved && resolvedRef) {\n      onResolved(resolvedRef);\n    }\n  }, [onResolved, resolvedRef]);\n  (0, _react.useEffect)(() => {\n    const nextRef = resolveContainerRef(ref);\n\n    if (nextRef !== resolvedRef) {\n      setRef(nextRef);\n    }\n  }, [ref, resolvedRef]);\n  return resolvedRef;\n}"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACE,OAAR,GAAkBC,gBAAlB;AACAH,OAAO,CAACI,mBAAR,GAA8B,KAAK,CAAnC;;AAEA,IAAIC,cAAc,GAAGC,sBAAsB,CAACC,OAAO,CAAC,2BAAD,CAAR,CAA3C;;AAEA,IAAIC,UAAU,GAAGF,sBAAsB,CAACC,OAAO,CAAC,uBAAD,CAAR,CAAvC;;AAEA,IAAIE,MAAM,GAAGF,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIG,UAAU,GAAGJ,sBAAsB,CAACC,OAAO,CAAC,aAAD,CAAR,CAAvC;;AAEA,SAASD,sBAAT,CAAgCK,GAAhC,EAAqC;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACV,UAAX,GAAwBU,GAAxB,GAA8B;IAAET,OAAO,EAAES;EAAX,CAArC;AAAwD;;AAE/F,MAAMP,mBAAmB,GAAG,CAACQ,GAAD,EAAMC,QAAN,KAAmB;EAC7C,IAAIC,IAAJ;;EAEA,IAAI,CAACN,UAAU,CAACN,OAAhB,EAAyB,OAAO,IAAP;EACzB,IAAIU,GAAG,IAAI,IAAX,EAAiB,OAAO,CAACC,QAAQ,IAAI,CAAC,GAAGR,cAAc,CAACH,OAAnB,GAAb,EAA4Ca,IAAnD;EACjB,IAAI,OAAOH,GAAP,KAAe,UAAnB,EAA+BA,GAAG,GAAGA,GAAG,EAAT;EAC/B,IAAIA,GAAG,IAAI,aAAaA,GAAxB,EAA6BA,GAAG,GAAGA,GAAG,CAACI,OAAV;EAC7B,IAAI,CAACF,IAAI,GAAGF,GAAR,KAAgB,IAAhB,IAAwBE,IAAI,CAACG,QAAjC,EAA2C,OAAOL,GAAG,IAAI,IAAd;EAC3C,OAAO,IAAP;AACD,CATD;;AAWAZ,OAAO,CAACI,mBAAR,GAA8BA,mBAA9B;;AAEA,SAASD,gBAAT,CAA0BS,GAA1B,EAA+BM,UAA/B,EAA2C;EACzC,MAAMC,MAAM,GAAG,CAAC,GAAGT,UAAU,CAACR,OAAf,GAAf;EACA,MAAM,CAACkB,WAAD,EAAcC,MAAd,IAAwB,CAAC,GAAGZ,MAAM,CAACa,QAAX,EAAqB,MAAMlB,mBAAmB,CAACQ,GAAD,EAAMO,MAAM,IAAI,IAAV,GAAiB,KAAK,CAAtB,GAA0BA,MAAM,CAACN,QAAvC,CAA9C,CAA9B;;EAEA,IAAI,CAACO,WAAL,EAAkB;IAChB,MAAMG,QAAQ,GAAGnB,mBAAmB,CAACQ,GAAD,CAApC;IACA,IAAIW,QAAJ,EAAcF,MAAM,CAACE,QAAD,CAAN;EACf;;EAED,CAAC,GAAGd,MAAM,CAACe,SAAX,EAAsB,MAAM;IAC1B,IAAIN,UAAU,IAAIE,WAAlB,EAA+B;MAC7BF,UAAU,CAACE,WAAD,CAAV;IACD;EACF,CAJD,EAIG,CAACF,UAAD,EAAaE,WAAb,CAJH;EAKA,CAAC,GAAGX,MAAM,CAACe,SAAX,EAAsB,MAAM;IAC1B,MAAMC,OAAO,GAAGrB,mBAAmB,CAACQ,GAAD,CAAnC;;IAEA,IAAIa,OAAO,KAAKL,WAAhB,EAA6B;MAC3BC,MAAM,CAACI,OAAD,CAAN;IACD;EACF,CAND,EAMG,CAACb,GAAD,EAAMQ,WAAN,CANH;EAOA,OAAOA,WAAP;AACD"},"metadata":{},"sourceType":"script"}