{"ast":null,"code":"import _asyncToGenerator from\"C:/repos/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/repos/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\repos\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Fragment,useState}from'react';import{Modal,Button}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditTodo(_ref){var todo=_ref.todo;var _useState=useState(todo.description),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),showModal=_React$useState2[0],setShowModal=_React$useState2[1];var handleCloseModal=function handleCloseModal(){return setShowModal(false);};var handleShowModal=function handleShowModal(){return setShowModal(true);};var updateDescription=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var body,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;body={description:description};_context.next=5;return fetch(\"https://mysitedatabase.herokuapp.com/api/todos/\".concat(todo.data_id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 5:response=_context.sent;false&&console.log(response);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 12:handleCloseModal();window.location=window.location.pathname;// window.reload();\ncase 14:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function updateDescription(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:handleShowModal,children:\"Edit\"}),/*#__PURE__*/_jsxs(Modal,{centered:true,show:showModal,onHide:function onHide(){return setDescription(todo.description)||handleCloseModal();},children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Edit Task ID: \",todo.data_id]})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),todo.description]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:function onClick(e){return updateDescription(e);},children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:function onClick(){return setDescription(todo.description)||handleCloseModal();},children:\"Close\"})]})]})]});}export default EditTodo;","map":{"version":3,"names":["React","Fragment","useState","Modal","Button","EditTodo","todo","description","setDescription","showModal","setShowModal","handleCloseModal","handleShowModal","updateDescription","e","preventDefault","body","fetch","data_id","method","headers","JSON","stringify","response","console","log","error","message","window","location","pathname","target","value"],"sources":["C:/repos/my-app/src/components/todolistv2/EditTodo.js"],"sourcesContent":["import React, { Fragment, useState } from 'react'\r\nimport { Modal, Button } from 'react-bootstrap';\r\n\r\nfunction EditTodo({todo}) {\r\n    const [description, setDescription] = useState(todo.description)\r\n    const [showModal, setShowModal] = React.useState(false);\r\n    const handleCloseModal = () => setShowModal(false);\r\n    const handleShowModal = () => setShowModal(true);\r\n\r\n    const updateDescription =  async (e)=>{\r\n        e.preventDefault();\r\n        try {\r\n            const body = {description};\r\n            const response = await fetch(`https://mysitedatabase.herokuapp.com/api/todos/${todo.data_id}`,{\r\n                method: \"PUT\",\r\n                headers:{\"Content-Type\": \"application/json\"},\r\n                body: JSON.stringify(body)\r\n            })\r\n            false && console.log(response)\r\n        } catch (err) {\r\n            console.error(err.message)\r\n        }\r\n        handleCloseModal();\r\n        window.location = window.location.pathname;\r\n        // window.reload();\r\n    }\r\n  return (\r\n      <Fragment>\r\n        <Button variant=\"warning\" onClick={handleShowModal}>\r\n            Edit\r\n        </Button>\r\n\r\n        <Modal centered show={showModal} onHide={()=> setDescription(todo.description) || handleCloseModal()}>\r\n            <Modal.Header  closeButton>\r\n                <Modal.Title>Edit Task ID: {todo.data_id}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <input className='form-control' type=\"text\" value={description} onChange={e => setDescription(e.target.value)}/>\r\n                {todo.description}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"warning\" onClick={e=> updateDescription(e)}>\r\n                    Edit\r\n                </Button>\r\n                <Button variant=\"secondary\" onClick={()=> setDescription(todo.description) || handleCloseModal()}>\r\n                    Close\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default EditTodo"],"mappings":"yTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,iBAA9B,C,wFAEA,QAASC,CAAAA,QAAT,MAA0B,IAAPC,CAAAA,IAAO,MAAPA,IAAO,CACtB,cAAsCJ,QAAQ,CAACI,IAAI,CAACC,WAAN,CAA9C,wCAAOA,WAAP,eAAoBC,cAApB,eACA,oBAAkCR,KAAK,CAACE,QAAN,CAAe,KAAf,CAAlC,oDAAOO,SAAP,qBAAkBC,YAAlB,qBACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,SAAMD,CAAAA,YAAY,CAAC,KAAD,CAAlB,EAAzB,CACA,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,SAAMF,CAAAA,YAAY,CAAC,IAAD,CAAlB,EAAxB,CAEA,GAAMG,CAAAA,iBAAiB,2FAAI,iBAAOC,CAAP,oIACvBA,CAAC,CAACC,cAAF,GADuB,gBAGbC,IAHa,CAGN,CAACT,WAAW,CAAXA,WAAD,CAHM,uBAIIU,CAAAA,KAAK,0DAAmDX,IAAI,CAACY,OAAxD,EAAkE,CAC1FC,MAAM,CAAE,KADkF,CAE1FC,OAAO,CAAC,CAAC,eAAgB,kBAAjB,CAFkF,CAG1FJ,IAAI,CAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAHoF,CAAlE,CAJT,QAIbO,QAJa,eASnB,OAASC,OAAO,CAACC,GAAR,CAAYF,QAAZ,CAAT,CATmB,+EAWnBC,OAAO,CAACE,KAAR,CAAc,YAAIC,OAAlB,EAXmB,QAavBhB,gBAAgB,GAChBiB,MAAM,CAACC,QAAP,CAAkBD,MAAM,CAACC,QAAP,CAAgBC,QAAlC,CACA;AAfuB,oEAAJ,kBAAjBjB,CAAAA,iBAAiB,6CAAvB,CAiBF,mBACI,MAAC,QAAD,yBACE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,OAAO,CAAED,eAAnC,kBADF,cAKE,MAAC,KAAD,EAAO,QAAQ,KAAf,CAAgB,IAAI,CAAEH,SAAtB,CAAiC,MAAM,CAAE,wBAAKD,CAAAA,cAAc,CAACF,IAAI,CAACC,WAAN,CAAd,EAAoCI,gBAAgB,EAAzD,EAAzC,wBACI,KAAC,KAAD,CAAO,MAAP,EAAe,WAAW,KAA1B,uBACI,MAAC,KAAD,CAAO,KAAP,6BAA4BL,IAAI,CAACY,OAAjC,GADJ,EADJ,cAII,MAAC,KAAD,CAAO,IAAP,yBACI,cAAO,SAAS,CAAC,cAAjB,CAAgC,IAAI,CAAC,MAArC,CAA4C,KAAK,CAAEX,WAAnD,CAAgE,QAAQ,CAAE,kBAAAO,CAAC,QAAIN,CAAAA,cAAc,CAACM,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAlB,EAA3E,EADJ,CAEK1B,IAAI,CAACC,WAFV,GAJJ,cAQI,MAAC,KAAD,CAAO,MAAP,yBACI,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,OAAO,CAAE,iBAAAO,CAAC,QAAGD,CAAAA,iBAAiB,CAACC,CAAD,CAApB,EAApC,kBADJ,cAII,KAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,OAAO,CAAE,yBAAKN,CAAAA,cAAc,CAACF,IAAI,CAACC,WAAN,CAAd,EAAoCI,gBAAgB,EAAzD,EAArC,mBAJJ,GARJ,GALF,GADJ,CAyBD,CAED,cAAeN,CAAAA,QAAf"},"metadata":{},"sourceType":"module"}